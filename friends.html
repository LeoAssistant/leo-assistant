<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î—Ä—É–∑—å—è | Leo Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">
    <style>
        .friends-page {
            padding: 20px;
        }
        
        .friends-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .friends-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 30px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 10px;
            padding: 5px;
            border: 1px solid #334155;
        }
        
        .tab-btn {
            flex: 1;
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: #cbd5e1;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .tab-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }
        
        .tab-btn.active {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .friends-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .friend-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .friend-card:hover {
            border-color: #3b82f6;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.15);
        }
        
        .friend-header {
            padding: 20px;
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border-bottom: 1px solid #334155;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .friend-avatar {
            font-size: 3rem;
            color: #3b82f6;
        }
        
        .friend-info {
            flex: 1;
        }
        
        .friend-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #f8fafc;
        }
        
        .friend-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .status-online {
            color: #10b981;
        }
        
        .status-offline {
            color: #94a3b8;
        }
        
        .friend-body {
            padding: 20px;
        }
        
        .friend-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .friend-stat {
            text-align: center;
            padding: 10px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #94a3b8;
        }
        
        .friend-subjects {
            margin-bottom: 20px;
        }
        
        .subjects-title {
            font-size: 0.9rem;
            color: #94a3b8;
            margin-bottom: 10px;
        }
        
        .subjects-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .subject-tag {
            padding: 4px 10px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            border-radius: 6px;
            font-size: 0.8rem;
            color: #60a5fa;
        }
        
        .friend-footer {
            padding: 15px 20px;
            border-top: 1px solid #334155;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 23, 42, 0.5);
        }
        
        .friend-id {
            font-size: 0.8rem;
            color: #94a3b8;
        }
        
        .friend-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-friend-action {
            padding: 8px 12px;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            border-radius: 6px;
            color: #60a5fa;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }
        
        .btn-friend-action:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
        }
        
        .btn-friend-action.remove {
            background: rgba(239, 68, 68, 0.1);
            border-color: #ef4444;
            color: #f87171;
        }
        
        .btn-friend-action.remove:hover {
            background: rgba(239, 68, 68, 0.2);
        }
        
        .friend-requests {
            margin-top: 30px;
        }
        
        .requests-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .request-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 10px;
        }
        
        .request-avatar {
            font-size: 2.5rem;
            color: #3b82f6;
        }
        
        .request-info {
            flex: 1;
        }
        
        .request-name {
            font-weight: 500;
            margin-bottom: 5px;
            color: #f8fafc;
        }
        
        .request-meta {
            font-size: 0.85rem;
            color: #94a3b8;
        }
        
        .request-actions {
            display: flex;
            gap: 10px;
        }
        
        .empty-friends {
            text-align: center;
            padding: 60px 20px;
            grid-column: 1 / -1;
        }
        
        .empty-friends i {
            font-size: 3rem;
            color: #475569;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-friends h3 {
            color: #cbd5e1;
            margin-bottom: 10px;
        }
        
        .empty-friends p {
            color: #94a3b8;
            max-width: 400px;
            margin: 0 auto 20px;
        }
        
        .friend-search-container {
            margin-bottom: 30px;
        }
        
        .search-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .search-input-large {
            flex: 1;
            padding: 12px 20px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 10px;
            color: #f8fafc;
            font-size: 1rem;
        }
        
        .search-input-large:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        .search-results {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .online-count {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid #10b981;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .online-count i {
            color: #10b981;
        }
        
        @media (max-width: 768px) {
            .friends-grid {
                grid-template-columns: 1fr;
            }
            
            .friends-header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .friends-tabs {
                overflow-x: auto;
            }
            
            .tab-btn {
                white-space: nowrap;
                min-width: 100px;
            }
            
            .friend-header {
                flex-direction: column;
                text-align: center;
            }
            
            .friend-stats {
                grid-template-columns: 1fr;
            }
            
            .friend-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .request-item {
                flex-direction: column;
                text-align: center;
            }
            
            .request-actions {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
    
    <main class="main-content">
        <div class="friends-page">
            <header class="friends-header">
                <div>
                    <h1 class="page-title">–î—Ä—É–∑—å—è</h1>
                    <p class="page-subtitle">–û–±—â–∞–π—Ç–µ—Å—å, —É—á–∏—Ç–µ—Å—å –∏ —Å–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="showAddFriendModal()">
                        <i class="fas fa-user-plus"></i>
                        –î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞
                    </button>
                </div>
            </header>
            
            <div class="friends-tabs">
                <button class="tab-btn active" onclick="switchTab('all')">–í—Å–µ –¥—Ä—É–∑—å—è</button>
                <button class="tab-btn" onclick="switchTab('online')">–û–Ω–ª–∞–π–Ω</button>
                <button class="tab-btn" onclick="switchTab('classmates')">–û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏</button>
                <button class="tab-btn" onclick="switchTab('requests')">–ó–∞–ø—Ä–æ—Å—ã</button>
                <button class="tab-btn" onclick="switchTab('search')">–ü–æ–∏—Å–∫</button>
            </div>
            
            <div class="tab-content" id="allTab">
                <div class="online-count">
                    <i class="fas fa-user-friends"></i>
                    <span>–û–Ω–ª–∞–π–Ω –¥—Ä—É–∑–µ–π: <strong id="onlineCount">0</strong> –∏–∑ <strong id="totalFriends">0</strong></span>
                </div>
                
                <div class="friends-grid" id="friendsGrid">
                    <!-- –î—Ä—É–∑—å—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
            
            <div class="tab-content" id="requestsTab" style="display: none;">
                <div class="friend-requests">
                    <h2 class="card-title" style="margin-bottom: 20px;">
                        <i class="fas fa-user-clock"></i>
                        –ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è
                    </h2>
                    
                    <div class="requests-list" id="requestsList">
                        <!-- –ó–∞–ø—Ä–æ—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="searchTab" style="display: none;">
                <div class="friend-search-container">
                    <div class="search-header">
                        <input type="text" class="search-input-large" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, ID –∏–ª–∏ –∫–ª–∞—Å—Å—É..." oninput="searchFriends(this.value)">
                        <button class="btn btn-secondary" onclick="showAddFriendModal()">
                            <i class="fas fa-plus"></i>
                            –ü–æ ID
                        </button>
                    </div>
                    
                    <div class="search-results" id="searchResults">
                        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
                        <div class="empty-friends">
                            <i class="fas fa-search"></i>
                            <h3>–ù–∞—á–Ω–∏—Ç–µ –ø–æ–∏—Å–∫</h3>
                            <p>–í–≤–µ–¥–∏—Ç–µ –∏–º—è, ID –∏–ª–∏ –∫–ª–∞—Å—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="leaderboard-section">
                <div class="card">
                    <h2 class="card-title">
                        <i class="fas fa-trophy"></i>
                        –†–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π
                    </h2>
                    <div class="leaderboard-friends" id="leaderboardFriends">
                        <!-- –†–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–∑–µ–π -->
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–∞ (—Ç–æ –∂–µ, —á—Ç–æ –∏ –≤ index.html) -->
    <div class="modal" id="addFriendModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∞</h3>
                <button class="modal-close" onclick="closeAddFriendModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="friendIdModal">ID –¥—Ä—É–≥–∞</label>
                    <input type="text" id="friendIdModal" placeholder="–í–≤–µ–¥–∏—Ç–µ ID –ø—Ä–æ—Ñ–∏–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: 12345)" maxlength="6">
                    <small class="form-hint">ID —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 5-6 —Ü–∏—Ñ—Ä</small>
                </div>
                
                <div class="friend-search-result" id="friendSearchResultModal">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAddFriendModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="sendFriendRequestModal()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –¥—Ä—É–∑–µ–π
        let friendsData = [
            {
                id: '12345',
                name: '–ê–ª–µ–∫—Å–µ–π –ü–µ—Ç—Ä–æ–≤',
                status: 'online',
                level: 12,
                points: 2450,
                class: '7–ë',
                subjects: ['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§–∏–∑–∏–∫–∞', '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞'],
                lastActive: '2024-01-15T14:30:00',
                isFriend: true
            },
            {
                id: '23456',
                name: '–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞',
                status: 'online',
                level: 11,
                points: 2300,
                class: '7–ë',
                subjects: ['–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ò—Å—Ç–æ—Ä–∏—è', '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π'],
                lastActive: '2024-01-15T14:25:00',
                isFriend: true
            },
            {
                id: '34567',
                name: '–î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤',
                status: 'offline',
                level: 10,
                points: 2100,
                class: '7–ë',
                subjects: ['–•–∏–º–∏—è', '–ë–∏–æ–ª–æ–≥–∏—è', '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è'],
                lastActive: '2024-01-14T18:45:00',
                isFriend: true
            },
            {
                id: '45678',
                name: '–ê–Ω–Ω–∞ –ö—É–∑–Ω–µ—Ü–æ–≤–∞',
                status: 'online',
                level: 9,
                points: 1950,
                class: '7–ë',
                subjects: ['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§–∏–∑–∏–∫–∞', '–•–∏–º–∏—è'],
                lastActive: '2024-01-15T13:15:00',
                isFriend: true
            },
            {
                id: '56789',
                name: '–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤',
                status: 'offline',
                level: 8,
                points: 1800,
                class: '7–ë',
                subjects: ['–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–§–∏–∑–∏–∫–∞'],
                lastActive: '2024-01-14T20:30:00',
                isFriend: true
            },
            {
                id: '67890',
                name: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –í–æ–ª–∫–æ–≤–∞',
                status: 'online',
                level: 7,
                points: 1650,
                class: '7–ê',
                subjects: ['–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ò—Å—Ç–æ—Ä–∏—è', '–ò—Å–∫—É—Å—Å—Ç–≤–æ'],
                lastActive: '2024-01-15T14:00:00',
                isFriend: false
            },
            {
                id: '78901',
                name: '–ê—Ä—Ç—ë–º –ù–∏–∫–æ–ª–∞–µ–≤',
                status: 'offline',
                level: 13,
                points: 2600,
                class: '7–ë',
                subjects: ['–í—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã'],
                lastActive: '2024-01-14T22:15:00',
                isFriend: false
            }
        ];
        
        // –ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è
        let friendRequests = [
            {
                id: '78901',
                name: '–ê—Ä—Ç—ë–º –ù–∏–∫–æ–ª–∞–µ–≤',
                level: 13,
                class: '7–ë',
                sentAt: '2024-01-14T22:15:00'
            },
            {
                id: '89012',
                name: '–û–ª—å–≥–∞ –§—ë–¥–æ—Ä–æ–≤–∞',
                level: 9,
                class: '7–í',
                sentAt: '2024-01-15T10:30:00'
            }
        ];
        
        let currentTab = 'all';
        let currentSearch = '';
        
        document.addEventListener('DOMContentLoaded', function() {
            loadNavigation();
            renderFriends();
            updateStats();
            renderFriendRequests();
            renderLeaderboard();
        });
        
        function loadNavigation() {
            const navContainer = document.getElementById('navContainer');
            if (navContainer) {
                navContainer.innerHTML = `
                    <div class="nav-header">
                        <div class="logo">
                            <div class="logo-icon">ü§ñ</div>
                            <div class="logo-text">
                                <h2>Leo Assistant</h2>
                                <p>7–ë –ö–ª–∞—Å—Å v1.5</p>
                            </div>
                        </div>
                        <div class="user-info">
                            <div class="user-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="user-details">
                                <div class="user-name">–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤</div>
                                <div class="user-status">
                                    <span class="status-online"></span> –û–Ω–ª–∞–π–Ω
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nav-menu">
                        <a href="index.html" class="nav-item">
                            <i class="fas fa-home"></i>
                            <span>–ì–ª–∞–≤–Ω–∞—è</span>
                        </a>
                        
                        <a href="chat.html" class="nav-item">
                            <i class="fas fa-robot"></i>
                            <span>–õ–µ–æ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</span>
                        </a>
             
